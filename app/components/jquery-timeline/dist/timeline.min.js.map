{"version":3,"sources":["/source/timeline.ts","/source/event.ts","/source/eventdate.ts","/source/line.ts","/source/tooltip.ts","/source/main.ts"],"names":["JQueryTimeline","JQueryTimeline.Timeline","JQueryTimeline.Timeline.constructor","JQueryTimeline.Timeline.roundYear","JQueryTimeline.Timeline.initScroll","JQueryTimeline.Timeline.addLine","JQueryTimeline.Timeline._addLine","JQueryTimeline.Timeline.addEvent","JQueryTimeline.Timeline.addEvents","this","_addEvent","event_options","line_index","JQueryTimeline.Timeline._addEvent","JQueryTimeline.Timeline.render","JQueryTimeline.Timeline.getRenderOptions","JQueryTimeline.Timeline.renderBackground","JQueryTimeline.Timeline.renderLines","JQueryTimeline.Timeline.scroll","JQueryTimeline.Timeline.scrollTo","JQueryTimeline.Event","JQueryTimeline.Event.constructor","JQueryTimeline.Event.getStartYear","JQueryTimeline.Event.getEndYear","JQueryTimeline.Event.getLength","JQueryTimeline.Event.render","JQueryTimeline.Event.initTooltip","JQueryTimeline.Event.hideTooltip","JQueryTimeline.Event.showTooltip","JQueryTimeline.Event.tooltipContent","JQueryTimeline.Event.tooltipTitle","$title","event","renderTooltipTitle","index","getDateIndex","titles","$","append","$title_group","JQueryTimeline.Event.renderTooltipTitle","JQueryTimeline.Event.isSingle","JQueryTimeline.Event.isMergable","JQueryTimeline.Event.addChild","JQueryTimeline.Event.getDateIndex","JQueryTimeline.EventDate","JQueryTimeline.EventDate.constructor","JQueryTimeline.EventDate.simplifyYear","JQueryTimeline.EventDate.formatRange","JQueryTimeline.EventDate.join","JQueryTimeline.EventDate.getDateIndex","JQueryTimeline.EventDate.getDate","JQueryTimeline.EventDate.getMonth","JQueryTimeline.EventDate.getMonthName","JQueryTimeline.EventDate.getYear","JQueryTimeline.EventDate.getEpoch","JQueryTimeline.EventDate.formatMonth","JQueryTimeline.EventDate.formatYear","JQueryTimeline.EventDate.formatEpoch","JQueryTimeline.EventDate.formatYearEpoch","JQueryTimeline.EventDate.render","JQueryTimeline.Line","JQueryTimeline.Line.constructor","JQueryTimeline.Line.addEvent","JQueryTimeline.Line.getYears","JQueryTimeline.Line.render","JQueryTimeline.Tooltip","JQueryTimeline.Tooltip.init","JQueryTimeline.Tooltip.show","JQueryTimeline.Tooltip.hide","fn","timeline","method","data","options","jQuery"],"mappings":"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","file":"timeline.min.js","sourcesContent":["\"use strict\";\n\nmodule JQueryTimeline {\n\texport var $: JQueryStatic;\n\n\texport class Timeline {\n\t\tstatic zoomBase: number = 1000;\n\t\tstatic yearScale: number = 0.24;\n\t\tstatic defaultOptions: Options = {\n\t\t\tzoom: 100,\n\t\t\tscale: 1,\n\t\t\tminorSections: 5,\n\t\t};\n\n\t\tstatic roundYear(year: number, step = 10, ceil = false): number {\n\t\t\tvar high = year / step;\n\t\t\thigh = ceil ? Math.ceil(high) : Math.floor(high);\n\t\t\tif (high === 0) {\n\t\t\t\treturn 0; // avoid -0\n\t\t\t}\n\t\t\treturn high * step;\n\t\t}\n\n\t\t$: JQuery;\n\t\tprivate $background: JQuery;\n\t\tprivate $content: JQuery;\n\n\t\tprivate lines: Array<Line> = [];\n\n\t\tprivate zoom: number;\n\t\tprivate yearScale: number;\n\t\tprivate minorSections: number;\n\n\t\tconstructor(options: Options) {\n\t\t\tif (!(this instanceof Timeline)) {\n\t\t\t\treturn new Timeline(options);\n\t\t\t}\n\t\t\toptions = $.extend(true, {}, Timeline.defaultOptions, options);\n\t\t\tif (!options.container || !options.container.length) {\n\t\t\t\toptions.container = $(\"<div>\");\n\t\t\t}\n\t\t\tvar existing_timeline = options.container.data(\"timeline\");\n\t\t\tif (existing_timeline) {\n\t\t\t\tthrow existing_timeline;\n\t\t\t}\n\n\t\t\tthis.$ = options.container\n\t\t\t\t.addClass(\"jquery-timeline\")\n\t\t\t\t.data(\"timeline\", this);\n\t\t\tthis.$background = $(\"<div>\", { \"class\": \"background\" }).appendTo(this.$);\n\t\t\tthis.$content = $(\"<div>\", { \"class\": \"content\" }).appendTo(this.$);\n\t\t\tthis.initScroll();\n\n\t\t\tvar max_zoom = Timeline.zoomBase / options.minorSections;\n\t\t\tthis.zoom = options.zoom;\n\t\t\tif (this.zoom <= 0) {\n\t\t\t\tthis.zoom = 1;\n\t\t\t} else if (this.zoom > max_zoom) {\n\t\t\t\tthis.zoom = max_zoom;\n\t\t\t}\n\t\t\tthis.yearScale = Timeline.yearScale * options.scale;\n\t\t\tthis.minorSections = options.minorSections;\n\n\t\t\toptions.lines = options.lines || [];\n\t\t\tif (options.events) {\n\t\t\t\toptions.lines.push({\n\t\t\t\t\tevents: options.events\n\t\t\t\t});\n\t\t\t}\n\t\t\toptions.lines.forEach(this._addLine, this);\n\t\t\tthis.render();\n\t\t}\n\n\t\tprivate initScroll() {\n\t\t\tthis.$.bind(\"mousewheel\", (event: JQueryEventObject) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.scroll((<WheelEvent>event.originalEvent).deltaY);\n\t\t\t});\n\t\t\tthis.$.bind(\"DOMMouseScroll\", (event: any) => {\n\t\t\t\tvar _event = <MouseEvent>event;\n\t\t\t\t_event.preventDefault();\n\t\t\t\tthis.scroll(_event.detail * 20);\n\t\t\t});\n\n\t\t\tthis.$.data(\"scroll\", false);\n\t\t\tthis.$.mousedown((event: JQueryEventObject) => {\n\t\t\t\tif (event.button !== 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar timeout = setTimeout(() => {\n\t\t\t\t\tthis.$.data(\"scroll\", event.pageX)\n\t\t\t\t\t\t.addClass(\"dragging\");\n\t\t\t\t}, 50);\n\t\t\t\tthis.$.data(\"scroll-timeout\", timeout);\n\t\t\t});\n\t\t\t$(document).mousemove((event: JQueryEventObject) => {\n\t\t\t\tvar prev_scroll = this.$.data(\"scroll\");\n\t\t\t\tif (prev_scroll !== false) {\n\t\t\t\t\tthis.scroll(prev_scroll - event.pageX);\n\t\t\t\t\tthis.$.data(\"scroll\", event.pageX);\n\t\t\t\t}\n\t\t\t});\n\t\t\t$(document).mouseup(() => {\n\t\t\t\tthis.$.data(\"scroll\", false)\n\t\t\t\t\t.removeClass(\"dragging\");\n\t\t\t\tclearTimeout(this.$.data(\"scroll-timeout\"));\n\t\t\t});\n\t\t}\n\n\t\taddLine(line_options?: LineOptions): Line {\n\t\t\tvar line = this._addLine(line_options);\n\t\t\tthis.render();\n\t\t\treturn line;\n\t\t}\n\n\t\tprivate _addLine(line_options?: LineOptions): Line {\n\t\t\tline_options = $.extend(true, {}, line_options);\n\t\t\tvar line = new Line(line_options);\n\t\t\tthis.$content.append(line.$);\n\t\t\tthis.lines.push(line);\n\t\t\treturn line;\n\t\t}\n\n\t\taddEvent(event_options: EventOptions, line_index?: number): Event {\n\t\t\tvar event = this._addEvent(event_options, line_index);\n\t\t\tthis.render();\n\t\t\treturn event;\n\t\t}\n\n\t\taddEvents(event_options: EventOptions[], line_index?: number) {\n\t\t\tevent_options.forEach(function(event_options: EventOptions) {\n\t\t\t\tthis._addEvent(event_options, line_index);\n\t\t\t}, this);\n\t\t\tthis.render();\n\t\t}\n\n\t\tprivate _addEvent(event_options: EventOptions, line_index?: number): Event {\n\t\t\tevent_options = $.extend(true, {}, event_options);\n\t\t\tif (typeof line_index === \"undefined\") {\n\t\t\t\tif (this.lines.length === 0) {\n\t\t\t\t\tthis._addLine();\n\t\t\t\t}\n\t\t\t\tline_index = this.lines.length - 1;\n\t\t\t}\n\t\t\tif (typeof this.lines[line_index] === \"undefined\") {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn this.lines[line_index].addEvent(event_options);\n\t\t}\n\n\t\trender() {\n\t\t\tthis.$background.empty();\n\t\t\tvar options = this.getRenderOptions();\n\t\t\tif (options.years.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.renderBackground(options);\n\t\t\tthis.renderLines(options);\n\t\t}\n\n\t\tprivate getRenderOptions(): RenderOptions {\n\t\t\tvar years = [];\n\t\t\tthis.lines.forEach((line) => {\n\t\t\t\tyears = years.concat(line.getYears());\n\t\t\t});\n\n\t\t\tvar major_step = Timeline.roundYear(Timeline.zoomBase / this.zoom, this.minorSections);\n\t\t\tvar minor_step = major_step / this.minorSections;\n\n\t\t\tvar min_year = Timeline.roundYear(Math.min.apply(null, years), major_step, false);\n\t\t\tmin_year -= major_step;\n\t\t\tvar max_year = Timeline.roundYear(Math.max.apply(null, years), major_step, true);\n\t\t\tmax_year += minor_step * (this.minorSections - 1);\n\n\t\t\treturn {\n\t\t\t\tyears: years,\n\t\t\t\tyear_width: this.zoom * this.yearScale,\n\t\t\t\tmajor_step: major_step,\n\t\t\t\tminor_step: minor_step,\n\t\t\t\tmin_year: min_year,\n\t\t\t\tmax_year: max_year,\n\t\t\t};\n\t\t}\n\n\t\tprivate renderBackground(options: RenderOptions) {\n\t\t\tvar year: number;\n\t\t\tfor (year = options.min_year; year <= options.max_year; year += options.minor_step) {\n\t\t\t\tvar width = Math.round(options.minor_step * options.year_width);\n\t\t\t\tvar $period = $(\"<div>\", { \"class\": \"period\" })\n\t\t\t\t\t.width(width)\n\t\t\t\t\t.appendTo(this.$background);\n\t\t\t\tif (year % options.major_step === 0) {\n\t\t\t\t\t$period.addClass(\"solid\");\n\t\t\t\t\t$(\"<div>\", {\n\t\t\t\t\t\t\"class\": \"label\",\n\t\t\t\t\t\t\"text\": (new EventDate(year)).formatYearEpoch(),\n\t\t\t\t\t}).appendTo($period);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.scrollTo(options.min_year + options.major_step);\n\t\t}\n\n\t\tprivate renderLines(options: RenderOptions) {\n\t\t\tthis.lines.forEach((line) => {\n\t\t\t\tline.render(options);\n\t\t\t});\n\t\t}\n\n\t\tprivate scroll(delta: number) {\n\t\t\tvar scroll_before = this.$.scrollLeft();\n\t\t\tthis.$.scrollLeft(scroll_before + delta);\n\t\t}\n\n\t\tscrollTo(year: number) {\n\t\t\tvar options = this.getRenderOptions();\n\t\t\tvar offset = year - options.min_year;\n\t\t\tthis.$.scrollLeft(offset * options.year_width);\n\t\t}\n\t}\n}\n","\"use strict\";\n\nmodule JQueryTimeline {\n\texport class Event {\n\t\tstatic defaultColor = \"gray\";\n\n\t\t$: JQuery;\n\t\tprivate $marker: JQuery;\n\t\tprivate $label: JQuery;\n\n\t\tprivate startDate: EventDate;\n\t\tprivate endDate: EventDate;\n\n\t\tprivate name: string;\n\t\tprivate description: string;\n\t\tprivate tooltip: string;\n\n\t\tprivate children: Array<Event> = [];\n\n\t\tconstructor(options: EventOptions) {\n\t\t\tthis.$ = $(\"<div>\", {\n\t\t\t\t\"class\": \"event\",\n\t\t\t\t\"data\": { \"event\": this },\n\t\t\t});\n\t\t\tthis.$marker = $(\"<div>\", {\n\t\t\t\t\"class\": \"marker\",\n\t\t\t\t\"css\": {\n\t\t\t\t\t\"background-color\": options.color || Event.defaultColor,\n\t\t\t\t},\n\t\t\t}).appendTo(this.$);\n\t\t\tif (options.color === \"transparent\") {\n\t\t\t\tthis.$marker.addClass(\"border\");\n\t\t\t}\n\t\t\tthis.$label = $(\"<div>\", {\n\t\t\t\t\"class\": \"label\",\n\t\t\t\ttext: options.label,\n\t\t\t}).appendTo(this.$);\n\n\t\t\tthis.startDate = new EventDate(options.start);\n\t\t\tif (options.length) {\n\t\t\t\tthis.endDate = new EventDate(options.start, options.length);\n\t\t\t} else if (options.end) {\n\t\t\t\tthis.endDate = new EventDate(options.end);\n\t\t\t}\n\n\t\t\tif (this.isSingle()) {\n\t\t\t\tthis.$.addClass(\"single\");\n\t\t\t} else {\n\t\t\t\tthis.$.addClass(\"range\");\n\t\t\t}\n\t\t\tthis.name = (options.name || options.label) || \"\";\n\t\t\tthis.description = options.description || \"\";\n\n\t\t\tthis.initTooltip();\n\t\t}\n\n\t\tgetStartYear(): number {\n\t\t\treturn this.startDate.getYear();\n\t\t}\n\n\t\tgetEndYear(): number {\n\t\t\tif (!this.endDate) {\n\t\t\t\treturn this.getStartYear();\n\t\t\t}\n\t\t\treturn this.endDate.getYear();\n\t\t}\n\n\t\tgetLength(): number {\n\t\t\treturn this.getEndYear() - this.getStartYear();\n\t\t}\n\n\t\trender(options: RenderOptions) {\n\t\t\tvar offset = (this.getStartYear() - options.min_year) * options.year_width;\n\t\t\tthis.$.css(\"left\", offset);\n\t\t\tvar width = this.getLength() * options.year_width;\n\t\t\tif (width > 0) {\n\t\t\t\tthis.$marker.width(width);\n\t\t\t}\n\t\t}\n\n\t\tinitTooltip() {\n\t\t\tthis.$.hover((event: JQueryMouseEventObject) => {\n\t\t\t\tthis.showTooltip(event);\n\t\t\t}, () => {\n\t\t\t\tthis.hideTooltip();\n\t\t\t}).mousemove((event: JQueryMouseEventObject) => {\n\t\t\t\tthis.showTooltip(event);\n\t\t\t});\n\t\t\tthis.$.click((event: JQueryMouseEventObject) => {\n\t\t\t\tthis.showTooltip(event, true);\n\t\t\t});\n\t\t}\n\n\t\thideTooltip() {\n\t\t\tTooltip.hide();\n\t\t\tthis.tooltip = null;\n\t\t}\n\n\t\tshowTooltip(event: JQueryMouseEventObject, fixed = false) {\n\t\t\tif (!this.tooltip) {\n\t\t\t\tthis.tooltip = this.tooltipContent();\n\t\t\t}\n\t\t\tTooltip.show({\n\t\t\t\tcontent: this.tooltip,\n\t\t\t\tx: event.clientX,\n\t\t\t\ty: event.clientY,\n\t\t\t\tfixed: fixed\n\t\t\t});\n\t\t}\n\n\t\ttooltipContent(): string {\n\t\t\tvar $tooltip = $(\"<div>\")\n\t\t\t\t.append(this.tooltipTitle());\n\t\t\tif (this.description.length > 0) {\n\t\t\t\t$(\"<div>\", { \"class\": \"content\" })\n\t\t\t\t\t.html(this.description)\n\t\t\t\t\t.appendTo($tooltip);\n\t\t\t}\n\t\t\treturn $tooltip.html();\n\t\t}\n\n\t\ttooltipTitle(): JQuery {\n\t\t\tvar titles = [this].concat(this.children).reduce<JQuery[]>(function(titles: JQuery[], event: Event) {\n\t\t\t\tvar $title = event.renderTooltipTitle();\n\t\t\t\tvar index = event.getDateIndex();\n\t\t\t\tif (typeof titles[index] === \"undefined\") {\n\t\t\t\t\ttitles[index] = $(\"<div>\");\n\t\t\t\t}\n\t\t\t\ttitles[index].append($title);\n\t\t\t\treturn titles;\n\t\t\t}, []);\n\t\t\treturn titles.reduce(function($title, $title_group, i) {\n\t\t\t\treturn $title.append($title_group);\n\t\t\t}, $(\"<div>\", { \"class\": \"title\" }));\n\t\t}\n\n\t\trenderTooltipTitle(): JQuery {\n\t\t\tvar $title = $(\"<div>\");\n\t\t\tvar date = this.startDate.render(this.endDate);\n\t\t\t$(\"<strong>\").text(date + \": \").appendTo($title);\n\t\t\t$title.append(this.name);\n\t\t\treturn $title;\n\t\t}\n\n\t\tisSingle(): boolean {\n\t\t\treturn this.getLength() === 0;\n\t\t}\n\n\t\tisMergable(): boolean {\n\t\t\treturn this.isSingle() && this.description.length === 0;\n\t\t}\n\n\t\taddChild(event: Event) {\n\t\t\tthis.children.push(event);\n\t\t\tvar total_events = this.children.length + 1;\n\t\t\tthis.$label.text(\"(\" + total_events + \" events)\");\n\t\t}\n\n\t\tgetDateIndex(): number {\n\t\t\treturn this.startDate.getDateIndex();\n\t\t}\n\t}\n}\n","\"use strict\";\n\nmodule JQueryTimeline {\n\texport class EventDate {\n\t\tstatic monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n\t\tstatic simplifyYear(year: number): string {\n\t\t\tvar abs_year = Math.abs(year);\n\t\t\tvar year_str = \"\" + abs_year;\n\t\t\tif (abs_year >= 1e9) {\n\t\t\t\tabs_year /= 1e8;\n\t\t\t\tabs_year = Math.round(abs_year) / 10;\n\t\t\t\tyear_str = abs_year + \"B\";\n\t\t\t} else if (abs_year >= 1e6) {\n\t\t\t\tabs_year /= 1e5;\n\t\t\t\tabs_year = Math.round(abs_year) / 10;\n\t\t\t\tyear_str = abs_year + \"M\";\n\t\t\t} else if (abs_year >= 1e4) {\n\t\t\t\tabs_year /= 1e5;\n\t\t\t\tabs_year = Math.round(abs_year) / 10;\n\t\t\t\tyear_str = abs_year + \"K\";\n\t\t\t}\n\t\t\treturn year_str;\n\t\t}\n\n\t\tstatic formatRange(start: EventDate, end: EventDate): string {\n\t\t\t// Different epochs \"[[DD ]MMM ]YYYY BC - [[DD ]MMM ]YYYY AD\"\n\t\t\tif (start.getYear() < 0 && 0 <= end.getYear()) {\n\t\t\t\treturn start.formatEpoch() + \" - \" + end.formatEpoch();\n\t\t\t}\n\t\t\t// Different years \"[[DD ]MMM ]YYYY - [[DD ]MMM ]YYYY BC/AD\"\n\t\t\tif (start.getYear() !== end.getYear()) {\n\t\t\t\treturn start.formatYear() + \" - \" + end.formatEpoch();\n\t\t\t}\n\t\t\t// No month \"YYYY AD\"\n\t\t\tif (typeof start.getMonth() === \"undefined\" || typeof end.getMonth() === \"undefined\") {\n\t\t\t\treturn start.formatEpoch();\n\t\t\t}\n\t\t\t// Different months \"[DD ]MMM - [DD ]MMM YYYY AD\"\n\t\t\tif (start.getMonth() !== end.getMonth()) {\n\t\t\t\treturn start.formatMonth() + \" - \" + end.formatEpoch();\n\t\t\t}\n\t\t\t// No date \"MMM YYYY AD\"\n\t\t\tif (typeof start.getDate() === \"undefined\" || typeof end.getDate() === \"undefined\") {\n\t\t\t\treturn start.formatEpoch();\n\t\t\t}\n\t\t\t// Different dates \"DD - DD MMM YYYY AD\"\n\t\t\treturn start.getDate() + \" - \" + end.formatEpoch();\n\t\t}\n\n\t\tstatic join(arr: Array<any>): string {\n\t\t\treturn arr.join(\" \").trim();\n\t\t}\n\n\t\tprivate date: number;\n\t\tprivate month: number;\n\t\tprivate year: number = 0;\n\n\t\tconstructor(date: number, length?: number);\n\t\tconstructor(date: string, length?: number);\n\t\tconstructor(date, length?) {\n\t\t\tvar negative = false;\n\t\t\tif (typeof date === \"number\") {\n\t\t\t\tdate = date.toFixed(0);\n\t\t\t}\n\t\t\tif (date.substr(0, 1) === \"-\") {\n\t\t\t\tdate = date.substr(1);\n\t\t\t\tnegative = true;\n\t\t\t}\n\t\t\tvar match;\n\t\t\tif (/^\\d+$/.exec(date)) {\n\t\t\t\tthis.year = parseInt(date);\n\t\t\t} else if (match = /^(\\d+)-(\\d+)$/.exec(date)) {\n\t\t\t\tthis.month = parseInt(match[1]);\n\t\t\t\tthis.year = parseInt(match[2]);\n\t\t\t} else if (match = /^(\\d+)-(\\d+)-(\\d+)$/.exec(date)) {\n\t\t\t\tthis.date = parseInt(match[1]);\n\t\t\t\tthis.month = parseInt(match[2]);\n\t\t\t\tthis.year = parseInt(match[3]);\n\t\t\t}\n\t\t\tif (negative) {\n\t\t\t\tthis.year *= -1;\n\t\t\t}\n\t\t\tthis.year += length || 0;\n\t\t}\n\n\t\tgetDateIndex(): number {\n\t\t\tvar date = \"0\" + (this.date || \"0\");\n\t\t\tvar month = \"0\" + (this.month || \"0\");\n\t\t\treturn parseInt(month.substr(-2) + date.substr(-2));\n\t\t}\n\n\t\tgetDate(): number {\n\t\t\treturn this.date;\n\t\t}\n\n\t\tgetMonth(): number {\n\t\t\treturn this.month;\n\t\t}\n\n\t\tgetMonthName(): string {\n\t\t\tif (typeof this.month === \"undefined\") {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t\treturn EventDate.monthNames[this.month - 1];\n\t\t}\n\n\t\tgetYear(): number {\n\t\t\treturn this.year;\n\t\t}\n\n\t\tgetEpoch(): string {\n\t\t\treturn this.year < 0 ? \"BC\" : \"AD\";\n\t\t}\n\n\t\tformatMonth(): string {\n\t\t\treturn EventDate.join([\n\t\t\t\tthis.getDate(),\n\t\t\t\tthis.getMonthName(),\n\t\t\t]);\n\t\t}\n\n\t\tformatYear(): string {\n\t\t\treturn EventDate.join([\n\t\t\t\tthis.formatMonth(),\n\t\t\t\tEventDate.simplifyYear(this.getYear()),\n\t\t\t]);\n\t\t}\n\n\t\tformatEpoch(): string {\n\t\t\treturn EventDate.join([\n\t\t\t\tthis.formatYear(),\n\t\t\t\tthis.getEpoch(),\n\t\t\t]);\n\t\t}\n\n\t\tformatYearEpoch(): string {\n\t\t\treturn EventDate.join([\n\t\t\t\tEventDate.simplifyYear(this.getYear()),\n\t\t\t\tthis.getEpoch(),\n\t\t\t]);\n\t\t}\n\n\t\trender(end?: EventDate): string {\n\t\t\tif (end) {\n\t\t\t\treturn EventDate.formatRange(this, end);\n\t\t\t}\n\t\t\treturn this.formatEpoch();\n\t\t}\n\t}\n}\n","\"use strict\";\n\nmodule JQueryTimeline {\n\texport class Line {\n\t\t$: JQuery;\n\n\t\tprivate color: string;\n\n\t\tprivate events: Array<Event> = [];\n\t\tprivate mergedEvents: { [s: number]: Event; } = {};\n\n\t\tconstructor(options: LineOptions = {}) {\n\t\t\tthis.$ = $(\"<div>\", {\n\t\t\t\t\"class\": \"line\",\n\t\t\t\t\"data\": { \"line\": this },\n\t\t\t});\n\t\t\tif (options.color) {\n\t\t\t\tthis.color = options.color;\n\t\t\t}\n\t\t\tvar events = options.events || [];\n\t\t\tevents.forEach((event_options) => {\n\t\t\t\tthis.addEvent(event_options);\n\t\t\t});\n\t\t}\n\n\t\taddEvent(event_options: EventOptions): Event {\n\t\t\tevent_options.color = event_options.color || this.color;\n\t\t\tvar event = new Event(event_options);\n\t\t\tif (event.isMergable()) {\n\t\t\t\tvar year = event.getStartYear();\n\t\t\t\tif (typeof this.mergedEvents[year] !== \"undefined\") {\n\t\t\t\t\tthis.mergedEvents[year].addChild(event);\n\t\t\t\t\treturn event;\n\t\t\t\t} else {\n\t\t\t\t\tthis.mergedEvents[year] = event;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar added = this.events.some((e: Event, i: number) => {\n\t\t\t\tif (e.getStartYear() < event.getStartYear()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (e.getStartYear() === event.getStartYear() && (event.isSingle() || !e.isSingle())) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.events.splice(i, 0, event);\n\t\t\t\treturn true;\n\t\t\t});\n\t\t\tif (!added) {\n\t\t\t\tthis.events.push(event);\n\t\t\t}\n\t\t\treturn event;\n\t\t}\n\n\t\tgetYears(): Array<number> {\n\t\t\tvar years: Array<number> = [];\n\t\t\tthis.events.forEach((event) => {\n\t\t\t\tyears.push(event.getStartYear(), event.getEndYear());\n\t\t\t});\n\t\t\treturn years;\n\t\t}\n\n\t\trender(options: RenderOptions) {\n\t\t\tthis.$.find(\".row\").detach();\n\t\t\tthis.events.forEach((event) => {\n\t\t\t\tvar added = this.$.find(\".row\").toArray().some((row) => {\n\t\t\t\t\tvar left = (event.getStartYear() - options.min_year) * options.year_width;\n\t\t\t\t\tvar $prev_event = $(row).find(\".event\").last();\n\t\t\t\t\tvar prev_event_right = $prev_event.width() + parseFloat($prev_event.css(\"left\"));\n\t\t\t\t\tif ((prev_event_right - 10) < left) {\n\t\t\t\t\t\t$(row).append(event.$);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (!added) {\n\t\t\t\t\t$(\"<div>\", { \"class\": \"row\" }).append(event.$).appendTo(this.$);\n\t\t\t\t}\n\t\t\t\tevent.render(options);\n\t\t\t});\n\t\t}\n\t}\n}\n","\"use strict\";\n\nmodule JQueryTimeline {\n\texport class Tooltip {\n\t\tstatic $: JQuery;\n\n\t\tpublic static init() {\n\t\t\tTooltip.$ = $(\"<div>\", {\n\t\t\t\t\"class\": \"jquery-timeline-tooltip\"\n\t\t\t}).appendTo(\"body\");\n\t\t\t$(\"body\").click((e) => {\n\t\t\t\tif ($(e.target).is(\".event\")\n\t\t\t\t\t|| $(e.target).is(\".jquery-timeline-tooltip\")\n\t\t\t\t\t|| $(e.target).parents(\".event, .jquery-timeline-tooltip\").length > 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tTooltip.hide(true);\n\t\t\t});\n\t\t\treturn Tooltip.$;\n\t\t}\n\n\t\tpublic static show(options: TooltipOptions): JQuery {\n\t\t\tvar $tooltip = Tooltip.$ || Tooltip.init();\n\t\t\tif (!$tooltip.is(\".fixed\") || options.fixed) {\n\t\t\t\tif (typeof options.content !== \"undefined\") {\n\t\t\t\t\t$tooltip.html(options.content);\n\t\t\t\t}\n\t\t\t\tif (typeof options.x !== \"undefined\") {\n\t\t\t\t\tvar width = $tooltip.width();\n\t\t\t\t\t$tooltip.css(\"left\", options.x - (width / 2));\n\t\t\t\t}\n\t\t\t\tif (typeof options.y !== \"undefined\") {\n\t\t\t\t\t$tooltip.css(\"top\", options.y + 15);\n\t\t\t\t}\n\t\t\t\tif (options.fixed) {\n\t\t\t\t\t$tooltip.addClass(\"fixed\");\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn $tooltip.show();\n\t\t}\n\n\t\tpublic static hide(force = false) {\n\t\t\tif (Tooltip.$.is(\".fixed\") && !force) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn Tooltip.$.removeClass(\"fixed\").hide();\n\t\t}\n\t}\n}\n","/// <reference path=\"../typings/tsd.d.ts\" />\n/// <reference path=\"timeline.ts\" />\n/// <reference path=\"options.ts\" />\n/// <reference path=\"event.ts\" />\n/// <reference path=\"eventdate.ts\" />\n/// <reference path=\"line.ts\" />\n/// <reference path=\"tooltip.ts\" />\n\n\"use strict\";\n\ninterface JQuery {\n\ttimeline(method: string, data: Object): JQuery\n\ttimeline(options?: JQueryTimeline.Options): JQuery\n}\n\ninterface JQueryStatic {\n\ttimeline(options: JQueryTimeline.Options): JQueryTimeline.Timeline\n}\n\n(($: JQueryStatic) => {\n\tJQueryTimeline.$ = $;\n\n\t$.fn.timeline = function timeline(method, data): JQuery {\n\t\tvar timeline = this.data(\"timeline\");\n\t\tif (typeof method === \"string\") {\n\t\t\tif (!(timeline instanceof JQueryTimeline.Timeline)) {\n\t\t\t\ttimeline = new JQueryTimeline.Timeline({ container: this });\n\t\t\t}\n\t\t\tif (typeof timeline[method] === \"function\") {\n\t\t\t\ttimeline[method](data);\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tvar options: JQueryTimeline.Options = method || {};\n\t\tif (!(timeline instanceof JQueryTimeline.Timeline)) {\n\t\t\toptions.container = this;\n\t\t\ttimeline = new JQueryTimeline.Timeline(options);\n\t\t}\n\t\treturn timeline.$;\n\t};\n\n\t$.timeline = function timeline(options: JQueryTimeline.Options = {}): JQueryTimeline.Timeline {\n\t\tvar timeline: JQueryTimeline.Timeline = null;\n\t\ttry {\n\t\t\ttimeline = new JQueryTimeline.Timeline(options);\n\t\t} catch (e) {\n\t\t\tif (e instanceof JQueryTimeline.Timeline) {\n\t\t\t\ttimeline = e;\n\t\t\t}\n\t\t}\n\t\treturn timeline;\n\t};\n})(jQuery);\n"],"sourceRoot":"."}